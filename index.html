<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>test</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body class="mx-auto w-96 overflow-y-hidden">
    <main class="bg-[#EBEBFF] py-5 px-5 h-screen overflow-y-scroll">
      <span class="text-[12px]" id="greet">
        <div class="h-2 w-[65%] animate-pulse bg-gray-400 rounded"></div>
      </span>
      <h1 class="text-[22px]" id="name">
        <div class="animate-pulse w-[60%] h-2 my-2 bg-gray-400 rounded"></div>
      </h1>
      <span class="text-[12px]" id="quote">
        <div class="grid grid-cols-3 gap-4 animate-pulse">
          <div class="h-2 my-2 bg-gray-400 rounded col-span-2"></div>
          <div class="h-2 my-2 bg-gray-400 rounded col-span-1"></div>
        </div>
        <div class="animate-pulse w-[80%] h-2 bg-gray-400 rounded"></div>
      </span>

      <div class="py-3">
        <span class="text-[14px]">Menu</span>
        <div class="flex items-center justify-center w-full">
          <!-- Menu-->
          <div class="px-2">
            <div class="flex flex-row space-x-6">
              <!-- Item #1 -->
              <div class="flex group">
                <a
                  href="absen.html"
                  class="px-3 py-2 text-indigo-400 hover:text-indigo-800"
                >
                  <span class="flex flex-col items-center">
                    <!-- Icon -->
                    <i
                      class="mdi mdi-checkbox-marked-circle-plus-outline mdi-24px mx-1 text-indigo-400 group-hover:text-indigo-800 transition-color duration-200"
                    ></i>
  
                    <!-- Text -->
                    <span class="text-xs mb-2 transition-all duration-200">
                      Absen
                    </span>
                </a>
              </div>
  
              <!-- Item #2 -->
              <div class="flex group">
                <a
                  href="history.html"
                  class="px-3 py-2 text-indigo-400 hover:text-indigo-800"
                >
                  <span class="flex flex-col items-center">
                    <!-- Icon -->
                    <i
                      class="mdi mdi-clipboard-text-clock-outline mdi-24px mx-1 text-indigo-400 group-hover:text-indigo-800 transition-color duration-200"
                    ></i>
  
                    <!-- Text -->
                    <span class="text-xs mb-2 transition-all duration-200">
                      History
                    </span>
                </a>
              </div>
  
              <!-- Item #3 -->
              <div class="flex group">
                <a
                  href="tel:085157782604"
                  class="px-3 py-2 text-indigo-400 hover:text-indigo-800"
                >
                  <span class="flex flex-col items-center">
                    <!-- Icon -->
                    <i
                      class="mdi mdi-phone mdi-24px mx-1 text-indigo-400 group-hover:text-indigo-800 transition-color duration-200"
                    ></i>
  
                    <!-- Text -->
                    <span class="text-xs mb-2 transition-all duration-200">
                      Hub Admin
                    </span>
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>



      <p class="text-[14px]" id="status">Sedang Berlangsung</p>

      <div id="empty_class" class="hidden py-4 h-2 my-2">
        <div class="w-full">
          <div
            class="inline-flex items-center bg-white leading-none text-purple-600 rounded-full p-2 w-full shadow text-sm"
          >
            <span
              class="inline-flex bg-purple-600 text-white rounded-full h-6 px-3 justify-center items-center text-"
              >Info</span
            >
            <span class="inline-flex px-2">Saat ini belum ada kelas.</span>
          </div>
        </div>
      </div>
      <a href="absen.html">
        <div
          id="current_class"
          class="py-4 px-8 bg-indigo-700 shadow-lg rounded-lg my-2"
        >
          <div>
            <h2 id="subject" class="text-white text-[16px] font-semibold">
              <div
                class="bg-gray-300 w-full animate-pulse h-14 rounded-2xl"
              ></div>
            </h2>
            <h2 class="mt-2 text-white" id="time">
              <div
                class="bg-gray-300 w-full animate-pulse h-3 rounded-2xl"
              ></div>
            </h2>
          </div>
          <div class="flex justify-end mt-4">
            <a id="teacher" href="#" class="text-sm font-medium text-white">
              <div
                class="bg-gray-300 w-20 h-8 animate-pulse rounded-full ml-auto"
              ></div>
            </a>
          </div>
        </div>
      </a>
      <!-- MDI Icons -->
      <link
        rel="stylesheet"
        href="https://cdn.materialdesignicons.com/6.5.95/css/materialdesignicons.min.css"
      />

      <div class="flex items-center justify-center h-[50%] w-full">
        <!-- Navigation Bar -->
        <div class="fixed bottom-2 px-2 bg-white shadow-lg rounded-2xl">
          <div class="flex flex-row space-x-6">
            <!-- Item #1 -->
            <div class="flex group">
              <a class="px-3 py-2 text-indigo-800 hover:text-indigo-800">
                <span class="flex flex-col items-center">
                  <!-- Icon -->
                  <i
                    class="mdi mdi-home-outline mdi-24px mx-1 text-indigo-800 group-hover:text-indigo-800 transition-color duration-200"
                  ></i>

                  <!-- Text -->
                  <span class="text-xs mb-2 transition-all duration-200">
                    Home
                  </span>

                  <!-- Focus Dot -->
                  <span
                    class="h-1 w-4 bg-indigo-500 rounded-full group-hover:bg-indigo-500 hover:h-3 hover:w-3 transition-all duration-150 delay-100"
                  ></span>
                </span>
              </a>
            </div>

            <!-- Item #2 -->
            <div class="flex group">
              <a
                href="presence.html"
                class="px-3 py-2 text-indigo-400 hover:text-indigo-800"
              >
                <span class="flex flex-col items-center">
                  <!-- Icon -->
                  <i
                    class="mdi mdi-note-edit-outline mdi-24px mx-1 text-indigo-400 group-hover:text-indigo-800 transition-color duration-200"
                  ></i>

                  <!-- Text -->
                  <span class="text-xs mb-2 transition-all duration-200">
                    Presence
                  </span>

                  <!-- Focus Dot -->
                  <span
                    class="h-2 w-2 rounded-full group-hover:bg-indigo-500 transition-all duration-150 delay-100"
                  ></span>
                </span>
              </a>
            </div>

            <!-- Item #3 Active -->
            <div class="flex group">
              <a
                href="#"
                class="px-3 py-2 text-indigo-400 hover:text-indigo-800"
              >
                <span class="flex flex-col items-center">
                  <!-- Icon -->
                  <i
                    class="mdi mdi-signal-cellular-outline mdi-24px mx-1 text-indigo-400 group-hover:text-indigo-800 transition-color duration-200"
                  ></i>

                  <!-- Text -->
                  <span class="text-xs mb-2 transition-all duration-200">
                    Statistic
                  </span>

                  <!-- Focus Dot -->
                  <span
                    class="h-2 w-2 rounded-full group-hover:bg-indigo-500 transition-all duration-150 delay-100"
                  ></span>
                </span>
              </a>
            </div>

            <!-- Item #5 -->
            <div class="flex group">
              <a
                href="account.html"
                class="px-3 py-2 text-indigo-400 hover:text-indigo-800"
              >
                <span class="flex flex-col items-center">
                  <!-- Icon -->
                  <i
                    class="mdi mdi-account-circle-outline mdi-24px mx-1 text-indigo-400 group-hover:text-indigo-800 transition-color duration-200"
                  ></i>

                  <!-- Text -->
                  <span class="text-xs mb-2 transition-all duration-200">
                    Account
                  </span>

                  <!-- Focus Dot -->
                  <span
                    class="h-2 w-2 rounded-full group-hover:bg-indigo-500 transition-all duration-150 delay-100"
                  ></span>
                </span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>
    <script>
      const base_url = "https://c4fd-114-125-110-24.ap.ngrok.io";
      fetch(`${base_url}/student/`, {
        headers: {
          Authorization: "Token 111e5bd4f219e4865121bf78d1b1370a1190f0ec",
        },
      })
        .then(function (response) {
          // The API call was successful!
          if (response.ok) {
            return response.json();
          } else {
            return Promise.reject(response);
          }
        })
        .then(function (data) {
          // This is the JSON from our response
          console.log(data);
          document.getElementById("greet").innerHTML = data.data.greet;
          document.getElementById("name").innerHTML = data.data.name;
          document.getElementById("quote").innerHTML =
            '"' + data.data.quote + '"';
          const empty = Object.keys(data.data.current_lecture).length;
          if (empty === 0) {
            var element = document.getElementById("current_class");
            element.className = "hidden";
            var element = document.getElementById("empty_class");
            element.classList.remove("hidden");
          } else {
            const subject = (document.getElementById("subject").innerHTML =
              data.data.current_lecture.subject);
            const teacher = (document.getElementById("teacher").innerHTML =
              data.data.current_lecture.teacher);
            const time = (document.getElementById("time").innerHTML =
              data.data.current_lecture.time);
          }
        })
        .catch(function (err) {
          // There was an error
          console.warn("Something went wrong.", err);
        });
    </script>
  </body>
</html>
